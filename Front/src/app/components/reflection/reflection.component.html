<div class="container mt-5">
  <div class="row">
    <div class="col-md-8 mx-auto">
      <div class="card shadow">
        <div class="card-header bg-primary text-white">
          <h2 class="mb-0">Reflection - Importadores</h2>
        </div>
        <div class="card-body">
          <!-- Contador de accesos -->
          <div class="alert alert-info mb-4">
            <strong>Accesos a esta página:</strong> {{ counterService.getCounter() }} / 20
          </div>

          <!-- Botón para cargar importadores -->
          <div class="mb-4">
            <button 
              class="btn btn-primary btn-lg w-100" 
              (click)="loadImporters()"
              [disabled]="isLoading">
              <span *ngIf="!isLoading"> Cargar Importadores</span>
              <span *ngIf="isLoading">
                <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                Cargando...
              </span>
            </button>
          </div>

          <!-- Estado de carga -->
          <div *ngIf="isLoading" class="text-center py-5">
            <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
              <span class="visually-hidden">Cargando...</span>
            </div>
            <p class="mt-3 text-muted">Cargando importadores...</p>
          </div>

          <!-- Estado de error -->
          <div *ngIf="isError && !isLoading" class="alert alert-danger" role="alert">
            <h5 class="alert-heading">Error</h5>
            <p class="mb-0">{{ errorMessage }}</p>
          </div>

          <!-- Lista vacía -->
          <div *ngIf="!isLoading && !isError && importers.length === 0 && importers !== undefined" class="alert alert-warning" role="alert">
            <h5 class="alert-heading">️ Lista vacía</h5>
            <p class="mb-0">No se encontraron importadores. Haz clic en el botón para cargarlos.</p>
          </div>

          <!-- Lista de importadores -->
          <div *ngIf="!isLoading && !isError && importers.length > 0">
            <h4 class="mb-3">Lista de Importadores:</h4>
            <ul class="list-group">
              <li 
                *ngFor="let importer of importers; let i = index" 
                class="list-group-item d-flex justify-content-between align-items-center">
                <span>
                  <strong>{{ i + 1 }}.</strong> {{ importer }}
                </span>
                <span class="badge bg-primary rounded-pill">✓</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

